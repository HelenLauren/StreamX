<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo - StreamX</title>
    <link rel="stylesheet" href="./styles.css/menu.css">
</head>
<body>
    <!-- Navbar -->
    <header>
        <div class="navbar">
            <div class="logo">
                <img src="./images/logoStreamX.png" alt="Logo da StreamX">
            </div>
            <nav>
                <ul>
                    <li><a href="menu.html">Início</a></li>
                    <li><a href="#">Filmes</a></li>
                    <li><a href="#">Séries</a></li>
                    <li><a href="#">Categorias</a></li>
                </ul>
            </nav>
            <div class="search-bar">
                <input type="text" placeholder="O que deseja assistir?">
                <button>Pesquisar</button>
            </div>
            <div class="user-profile">
                <a href="#">Entrar</a>
            </div>
        </div>
    </header>

    <!-- Filme em Destaque -->
    <section class="filme-destaque">
        <img src="./images/jurassic3.jpg" alt="Jurassic Park 3">
        <div class="descricao-destaque">
            <h1>Jurassic Park 3</h1>
            <p>O paleontólogo Alan Grant é contratado por um empresário e sua esposa para fazer uma excursão aérea pela Ilha Sorna,
                 onde dinossauros clonados vivem livremente. No entanto, um acidente deixa o grupo de sete pessoas preso na ilha,
                  cercado por dinossauros carnívoros. Agora, eles precisam lutar para sobreviver e encontrar uma maneira de escapar.</p>
            <button class="trailer-btn">Trailer</button>
        </div>
    </section>

    <!-- Filmes Comédia (Carrossel) -->
    <section class="filmes-comedia">
        <h2>Comédia</h2>
        <div class="carousel-container" id="comedia-carousel">
            <button class="prev" onclick="moveCarousel(-1, 'comedia-carousel')">&#10094;</button>
            <div class="carousel">
                <div class="filme-item">
                    <img src="./images/diarioprincesa.webp" alt="O Diário de uma Princesa">
                    <p>O Diário de uma Princesa</p>
                    <span>Avaliação: 8.5/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/branquelas.webp" alt="As Branquelas">
                    <p>As Branquelas</p>
                    <span>Avaliação: 7.0/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/de-volta-futuro.webp" alt="De Volta ao Futuro">
                    <p>De Volta ao Futuro</p>
                    <span>Avaliação: 8.7/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/ate-que-a-sorte-nos-separe.jpg" alt="Até que a Sorte nos Separe">
                    <p>Até que a Sorte nos Separe</p>
                    <span>Avaliação: 8.5/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/beetlejuice.jpg" alt="Os Fantasmas se Divertem">
                    <p>Os Fantasmas se Divertem</p>
                    <span>Avaliação: 9.2/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/50-first-dates.jpg" alt="Como se Fosse a Primeira Vez">
                    <p>Como se Fosse a Primeira Vez</p>
                    <span>Avaliação: 9.1/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/10-coisas-que-odeio-em-voce.jpg" alt="10 Coisas que Odeio em Voce">
                    <p>10 Coisas que Odeio em Voce</p>
                    <span>Avaliação: 9.5/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/como-perder-homem-10-dias.webp" alt="Como Perder um Homem em 10 Dias">
                    <p>Como Perder um Homem em 10 Dias</p>
                    <span>Avaliação: 8.9/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/todos-menos-voce.jpg" alt="Todos Menos Voce">
                    <p>Todos Menos Voce</p>
                    <span>Avaliação: 8.9/10</span>
                </div>
            </div>
            <button class="next" onclick="moveCarousel(1, 'comedia-carousel')">&#10095;</button>
        </div>
    </section>
    
    <section class="filmes-acao">
        <h2>Ação</h2>
        <div class="carousel-container" id="acao-carousel">
            <button class="prev" onclick="moveCarousel(-1, 'acao-carousel')">&#10094;</button>
            <div class="carousel">
                <div class="filme-item">
                    <img src="./images/matrix.jpg" alt="Matrix">
                    <p>Matrix</p>
                    <span>Avaliação: 8.7/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/vingadores-ultimato.webp" alt="Vingadores: Ultimato">
                    <p>Vingadores: Ultimato</p>
                    <span>Avaliação: 9.8/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/missao-impossivel.webp" alt="Missão Impossível">
                    <p>Missão Impossível</p>
                    <span>Avaliação: 7.8/10</span>
                </div>
                <div class="filme-item">
                    <img src="./images/atraves-do-aranhaverso.jpg" alt="Homem-Aranha:Atraves do Aranhaverso">
                    <p>Homem-Aranha:Atraves do Aranhaverso</p>
                    <span>Avaliação: 9.2/10</span>
                </div>
            </div>
            <button class="next" onclick="moveCarousel(1, 'acao-carousel')">&#10095;</button>
        </div>
    </section>
   
    <script>
        function initializeCarousel(carouselId) {
            const carouselContainer = document.querySelector(`#${carouselId} .carousel`);
            const filmeItems = Array.from(carouselContainer.children);
            const itemWidth = filmeItems[0].offsetWidth + 20; 
    
            // Clone os primeiros e últimos itens para criar um efeito de loop infinito
            filmeItems.forEach(item => {
                const cloneFirst = item.cloneNode(true);
                const cloneLast = item.cloneNode(true);
                carouselContainer.appendChild(cloneFirst); 
                carouselContainer.insertBefore(cloneLast, filmeItems[0]); 
            });
    
            const totalItems = filmeItems.length;
            carouselContainer.setAttribute('data-total-items', totalItems);
            carouselContainer.setAttribute('data-current-index', 1);
    
            
            carouselContainer.style.transform = `translateX(-${itemWidth}px)`;
    
            return { carouselContainer, itemWidth, totalItems };
        }
    
        const carousels = {
            'comedia-carousel': initializeCarousel('comedia-carousel'),
            'acao-carousel': initializeCarousel('acao-carousel')
        };
    
        
        function moveCarousel(direction, carouselId) {
            const { carouselContainer, itemWidth, totalItems } = carousels[carouselId];
            let currentIndex = parseInt(carouselContainer.getAttribute('data-current-index'));
    
            currentIndex += direction;
    
            
            if (currentIndex > totalItems) {
                currentIndex = 1;
                carouselContainer.style.transition = 'none'; 
                carouselContainer.style.transform = `translateX(-${itemWidth}px)`;
                setTimeout(() => {
                    carouselContainer.style.transition = 'transform 0.5s ease';
                }, 20);
            } else if (currentIndex < 0) {
                currentIndex = totalItems;
                carouselContainer.style.transition = 'none';
                carouselContainer.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
                setTimeout(() => {
                    carouselContainer.style.transition = 'transform 0.5s ease';
                }, 20);
            }
    
            carouselContainer.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
            carouselContainer.setAttribute('data-current-index', currentIndex); 
        }
    </script>
</body>
</html>
